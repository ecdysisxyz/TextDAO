specVersion: 1.0.0
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: TextDAO
    network: sepolia
    source:
      address: "0xbC2fC4eb14077Fd7F29B948E5Fd39a4634f6D138"
      abi: TextDAOEvents
      startBlock: 6354206
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - DeliberationConfig
        - Proposal
        - Header
        - Command
        - Action
        - ProposalMeta
        - Vote
        - Text
        - Member
      abis:
        - name: TextDAOEvents
          file: ../out/TextDAOEvents.sol/TextDAOEvents.json
      eventHandlers:
        - event: CommandCreated(uint256,uint256,(string,bytes)[])
          handler: handleCommandCreated
        - event: HeaderCreated(uint256,uint256,string)
          handler: handleHeaderCreated
        - event: ProposalExecuted(uint256,uint256)
          handler: handleProposalExecuted
        - event: ProposalSnapped(uint256,uint256[],uint256[])
          handler: handleProposalSnapped
        - event: ProposalTallied(uint256,uint256,uint256)
          handler: handleProposalTallied
        - event: ProposalTalliedWithTie(uint256,uint256[],uint256[],uint256)
          handler: handleProposalTalliedWithTie
        - event: Proposed(uint256,address,uint256,uint256)
          handler: handleProposed
        - event: RepresentativesAssigned(uint256,address[])
          handler: handleRepresentativesAssigned
        - event: TextCreated(uint256,string)
          handler: handleTextCreated
        - event: TextDeleted(uint256)
          handler: handleTextDeleted
        - event: TextUpdated(uint256,string)
          handler: handleTextUpdated
        - event: VRFRequested(uint256,uint256)
          handler: handleVRFRequested
        - event: Voted(uint256,address,(uint256[3],uint256[3]))
          handler: handleVoted
      file: ./src/text-dao-event-handlers.ts
